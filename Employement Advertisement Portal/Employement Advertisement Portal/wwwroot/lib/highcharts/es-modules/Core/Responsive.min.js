"use strict";import U from"./Utilities.js";const{diffObjects,extend,find,merge,pick,uniqueKey}=U;var Responsive;!function(){function e(i,t){const e=i.condition,s=e.callback||function(){return this.chartWidth<=pick(e.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=pick(e.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=pick(e.minWidth,0)&&this.chartHeight>=pick(e.minHeight,0)};s.call(this)&&t.push(i._id)}function s(i,t){const e=this.options.responsive,s=this.currentResponsive;let n=[],o;!t&&e&&e.rules&&e.rules.forEach(i=>{void 0===i._id&&(i._id=uniqueKey()),this.matchResponsiveRule(i,n)},this);const p=merge(...n.map(t=>find((e||{}).rules||[],i=>i._id===t)).map(i=>i&&i.chartOptions));p.isResponsiveOptions=!0,n=n.toString()||void 0;t=s&&s.ruleIds;n!==t&&(s&&this.update(s.undoOptions,i,!0),n?((o=diffObjects(p,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:n,mergedOptions:p,undoOptions:o},this.update(p,i,!0)):this.currentResponsive=void 0)}(Responsive||(Responsive={})).compose=function(i){var t=i.prototype;return t.matchResponsiveRule||extend(t,{matchResponsiveRule:e,setResponsive:s}),i}}();export default Responsive;