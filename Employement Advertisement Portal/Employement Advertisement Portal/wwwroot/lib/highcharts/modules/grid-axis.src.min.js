!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(d,l,i){const t=l["dateFormats"],{addEvent:s,defined:r,erase:h,find:c,isArray:n,isNumber:b,merge:g,pick:x,timeUnits:u,wrap:o}=i;var P,e;function a(t){return i.isObject(t,!0)}function f(o,t){const r={width:0,height:0};return t.forEach(function(t){t=o[t];let i,e=0,s;a(t)&&(i=(s=a(t.label)?t.label:{}).getBBox?s.getBBox().height:0,s.textStr&&!b(s.textPxLength)&&(s.textPxLength=s.getBBox().width),e=b(s.textPxLength)?Math.round(s.textPxLength):0,s.textStr&&(e=Math.round(s.getBBox().width)),r.height=Math.max(i,r.height),r.width=Math.max(e,r.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,r.width+=this.options.labels.indentation*(t-1)),r}function p(t){var i=this["grid"],e=3===this.side;if(e||t.apply(this),!i?.isColumn){let t=i?.columns||[];(t=e?t.slice().reverse():t).forEach(t=>{t.getOffset()})}e&&t.apply(this)}function m(t){var i=this;const e=i.options;if(!0===(e.grid||{}).enabled){const{axisTitle:d,height:h,horiz:c,left:g,offset:u,opposite:f,options:e,top:p,width:m}=i;var s=i.tickSize(),o=d&&d.getBBox().width,r=e.title.x,n=e.title.y,a=x(e.title.margin,c?5:10),l=d?i.chart.renderer.fontMetrics(d).f:0,s=(c?p+h:g)+(c?1:-1)*(f?-1:1)*(s?s[0]/2:0)+(i.side===P.bottom?l:0);t.titlePosition.x=c?g-(o||0)/2-a+r:s+(f?m:0)+u+r,t.titlePosition.y=c?s-(f?h:0)+(f?l:-l)/2+u+n:p-a+n}}function k(){var i=this,{chart:e,options:{grid:s={}},userOptions:o}=i;if(s.enabled){var t=i;const n=t.options;n.labels.align=x(n.labels.align,"center"),t.categories||(n.showLastLabel=!1),t.labelRotation=0,n.labels.rotation=0,n.minTickInterval=1}if(s.columns){const a=i.grid.columns=[];let t=i.grid.columnIndex=0;for(;++t<s.columns.length;){var r=g(o,s.columns[t],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}});const l=new d(i.chart,r,"yAxis");l.grid.isColumn=!0,l.grid.columnIndex=t,h(e.axes,l),h(e[i.coll]||[],l),a.push(l)}}}function v(){const e=this,{axisTitle:t,grid:i,options:s}=e,o=s.grid||{};if(!0===o.enabled){var r=e.min||0,n=e.max||0,a=e.ticks[e.tickPositions[0]];if(t&&!e.chart.styledMode&&a?.slotWidth&&!e.options.title.style.width&&t.css({width:a.slotWidth+"px"}),e.maxLabelDimensions=e.getMaxLabelDimensions(e.ticks,e.tickPositions),e.rightWall&&e.rightWall.destroy(),e.grid&&e.grid.isOuterAxis()&&e.axisLine){var a=s.lineWidth;if(a){const h=e.getLinePath(a),c=h[0],g=h[1],u=(e.tickSize("tick")||[1])[0],f=(u-1)*(e.side===P.top||e.side===P.left?-1:1);"M"===c[0]&&"L"===g[0]&&(e.horiz?(c[2]+=f,g[2]+=f):(c[1]+=f,g[1]+=f)),!e.horiz&&e.chart.marginRight&&(a=[c,["L",e.left,c[2]||0]],l=["L",e.chart.chartWidth-e.chart.marginRight,e.toPixels(n+e.tickmarkOffset)],l=[["M",g[1]||0,e.toPixels(n+e.tickmarkOffset)],l],e.grid.upperBorder||r%1==0||(e.grid.upperBorder=e.grid.renderBorder(a)),e.grid.upperBorder&&(e.grid.upperBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),e.grid.upperBorder.animate({d:a})),e.grid.lowerBorder||n%1==0||(e.grid.lowerBorder=e.grid.renderBorder(l)),e.grid.lowerBorder&&(e.grid.lowerBorder.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),e.grid.lowerBorder.animate({d:l}))),e.grid.axisLineExtra?(e.grid.axisLineExtra.attr({stroke:s.lineColor,"stroke-width":s.lineWidth}),e.grid.axisLineExtra.animate({d:h})):e.grid.axisLineExtra=e.grid.renderBorder(h),e.axisLine[e.showAxis?"show":"hide"]()}}if((i&&i.columns||[]).forEach(t=>t.render()),!e.horiz&&e.chart.hasRendered&&(e.scrollbar||e.linkedParent&&e.linkedParent.scrollbar)&&e.tickPositions.length){var a=e.tickmarkOffset,l=e.tickPositions[e.tickPositions.length-1],d=e.tickPositions[0];let t,i;for(;(t=e.hiddenLabels.pop())&&t.element;)t.show();for(;(i=e.hiddenMarks.pop())&&i.element;)i.show();(t=e.ticks[d].label)&&(a<r-d?e.hiddenLabels.push(t.hide()):t.show()),(t=e.ticks[l].label)&&(a<l-n?e.hiddenLabels.push(t.hide()):t.show());const p=e.ticks[l].mark;p&&l-n<a&&0<l-n&&e.ticks[l].isLast&&e.hiddenMarks.push(p.hide())}}}function y(){var t=this,i=t.tickPositions&&t.tickPositions.info;const e=t.options;var s=e.grid||{},o=t.userOptions.labels||{};s.enabled&&(t.horiz?(t.series.forEach(t=>{t.options.pointRange=0}),i&&e.dateTimeLabelFormats&&e.labels&&!r(o.align)&&(!1===e.dateTimeLabelFormats[i.unitName].range||1<i.count)&&(e.labels.align="left",r(o.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&t.grid&&t.grid.columns&&(this.minPointOffset=this.tickInterval))}function w(t){const i=this.options,e=t.userOptions,s=i&&a(i.grid)?i.grid:{};let d;!0===s.enabled&&(d=g(!0,{className:"highcharts-grid-axis "+(e.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},e),"xAxis"===this.coll&&(r(e.linkedTo)&&!r(e.tickPixelInterval)&&(d.tickPixelInterval=350),r(e.tickPixelInterval)||!r(e.linkedTo)||r(e.tickPositioner)||r(e.tickInterval)||r(e.units)||(d.tickPositioner=function(s,o){var r=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(r){var n=d.units||[];let i,t=1,e="year";for(let t=0;t<n.length;t++){var a=n[t];if(a&&a[0]===r.unitName){i=t;break}}var l=b(i)&&n[i+1],l=(l?(e=l[0]||"year",l=l[1],t=l&&l[0]||1):"year"===r.unitName&&(t=10*r.count),u[e]);return this.tickInterval=l*t,this.chart.time.getTimeTicks({unitRange:l,count:t,unitName:e},s,o,this.options.startOfWeek)}})),g(!0,this.options,d),this.horiz&&(i.minPadding=x(e.minPadding,0),i.maxPadding=x(e.maxPadding,0)),b(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=s.borderWidth))}function L(t){var t=t.userOptions,t=t&&t.grid||{},i=t.columns;t.enabled&&i&&g(!0,this.options,i[0])}function B(){(this.grid.columns||[]).forEach(t=>t.setScale())}function O(t){var i,{horiz:e,maxLabelDimensions:s,options:{grid:o={}}}=this;o.enabled&&s&&(i=2*this.options.labels.distance,e=e?o.cellHeight||i+s.height:i+s.width,n(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function M(){this.axes.forEach(t=>{(t.grid&&t.grid.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function T(i){const t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(i.keepEvents)),t.columns=void 0}function W(t){var i=this;const e=t.userOptions||{};t=e.grid||{};t.enabled&&r(t.borderColor)&&(e.tickColor=e.lineColor=t.borderColor),i.grid||(i.grid=new z(i)),i.hiddenLabels=[],i.hiddenMarks=[]}function A(o){const r=this.label,n=this.axis,a=n.reversed,l=n.chart,t=n.options,i=t.grid||{},d=n.options.labels,h=d.align,c=P[n.side],e=o.tickmarkOffset,s=n.tickPositions,g=this.pos-e,u=b(s[o.index+1])?s[o.index+1]-e:(n.max||0)+e,f=n.tickSize("tick"),p=f?f[0]:0,m=f?f[1]/2:0;if(!0===i.enabled){let t,i,e,s;var x,k;"top"===c?(t=n.top+n.offset,i=t-p):"bottom"===c?(i=l.chartHeight-n.bottom+n.offset,t=i+p):(t=n.top+n.len-(n.translate(a?u:g)||0),i=n.top+n.len-(n.translate(a?g:u)||0)),"right"===c?(e=l.chartWidth-n.right+n.offset,s=e+p):"left"===c?(s=n.left+n.offset,e=s-p):(e=Math.round(n.left+(n.translate(a?u:g)||0))-m,s=Math.min(Math.round(n.left+(n.translate(a?g:u)||0))-m,n.left+n.len)),this.slotWidth=s-e,o.pos.x="left"===h?e:"right"===h?s:e+(s-e)/2,o.pos.y=i+(t-i)/2,r&&(x=l.renderer.fontMetrics(r),k=r.getBBox().height,d.useHTML?o.pos.y+=x.b+-k/2:(k=Math.round(k/x.h),o.pos.y+=(x.b-(x.h-x.f))/2+-((k-1)*x.h)/2)),o.pos.x+=n.horiz&&d.x||0}}function C(i){const{axis:e,value:s}=i;if(e.options.grid&&e.options.grid.enabled){var o=e.tickPositions;const a=(e.linkedParent||e).series[0];var r=s===o[0],o=s===o[o.length-1],n=a&&c(a.options.data,function(t){return t[e.isXAxis?"x":"y"]===s});let t;n&&a.is("gantt")&&(t=g(n),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t)),i.isFirst=r,i.isLast=o,i.point=t}}function S(){const t=this,i=t.options,e=i.grid||{},s=t.categories,o=t.tickPositions,r=o[0],n=o[1],a=o[o.length-1],l=o[o.length-2],d=t.linkedParent&&t.linkedParent.min,h=t.linkedParent&&t.linkedParent.max,c=d||t.min,g=h||t.max,u=t.tickInterval,f=b(c)&&r+u<=c&&c<n,p=b(c)&&r<c&&c<r+u,m=b(g)&&g<a&&a-u<g,x=b(g)&&g<=a-u&&l<g;!0!==e.enabled||s||!t.isXAxis&&!t.isLinked||(!p&&!f||i.startOnTick||(o[0]=c),!m&&!x||i.endOnTick||(o[o.length-1]=g))}function E(t){var{options:{grid:i={}}}=this;return!0===i.enabled&&this.categories?this.tickInterval:t.apply(this,(i=arguments,Array.prototype.slice.call(i,1)))}(e=P=P||{})[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left";class z{constructor(t){this.axis=t}isOuterAxis(){const e=this.axis,t=e.chart;var i=e.grid.columnIndex,s=e.linkedParent?.grid.columns||e.grid.columns||[];const o=i?e.linkedParent:e;let r=-1,n=0;return 3===e.side&&!t.inverted&&s.length?!e.linkedParent:((t[e.coll]||[]).forEach((t,i)=>{t.side!==e.side||t.options.isInternal||(n=i,t===o&&(r=i))}),n===r&&(!b(i)||s.length===i))}renderBorder(t){const i=this.axis,e=i.chart.renderer,s=i.options,o=e.path(t).addClass("highcharts-axis-line").add(i.axisGroup);return e.styledMode||o.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),o}}return t.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},t.W=function(t){const i=this,e=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)});t=(this.get("Day",e)+6)%7;const s=new this.Date(e.valueOf()),o=(this.set("Date",s,this.get("Date",e)-t+3),new this.Date(this.get("FullYear",s),0,1));return 4!==this.get("Day",o)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",o))%7)),(1+Math.floor((s.valueOf()-o.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return t.keepProps.includes("grid")||(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=f,o(t.prototype,"unsquish",E),o(t.prototype,"getOffset",p),s(t,"init",W),s(t,"afterGetTitlePosition",m),s(t,"afterInit",k),s(t,"afterRender",v),s(t,"afterSetAxisTranslation",y),s(t,"afterSetOptions",w),s(t,"afterSetOptions",L),s(t,"afterSetScale",B),s(t,"afterTickSize",O),s(t,"trimTicks",S),s(t,"destroy",T),s(i,"afterSetChartSize",M),s(e,"afterGetLabelPosition",A),s(e,"labelFormat",C)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){return i.compose(t.Axis,t.Chart,t.Tick),t})});