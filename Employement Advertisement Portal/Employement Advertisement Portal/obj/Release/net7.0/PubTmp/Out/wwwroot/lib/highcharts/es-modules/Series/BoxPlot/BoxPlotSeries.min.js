"use strict";import BoxPlotSeriesDefaults from"./BoxPlotSeriesDefaults.js";import ColumnSeries from"../Column/ColumnSeries.js";import H from"../../Core/Globals.js";const noop=H["noop"];import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";import U from"../../Core/Utilities.js";const{extend,merge,pick}=U;class BoxPlotSeries extends ColumnSeries{pointAttribs(){return{}}translate(){const t=this,e=t.yAxis,s=t.pointArrayMap;super.translate.apply(t),t.points.forEach(function(o){s.forEach(function(t){null!==o[t]&&(o[t+"Plot"]=e.translate(o[t],0,1,0,1))}),o.plotHigh=o.highPlot})}drawPoints(){const o=this,t=o.points,e=o.options,s=o.chart,i=s.renderer,r=!1!==o.doQuartiles,a=o.options.whiskerLength;let l,h,d,n,p,m,S,k,f,y,c,x,w;for(const u of t){const g=(k=u.graphic)?"animate":"attr",C=u.shapeArgs,M={},P={},b={},W={},D=u.color||o.color;if(void 0!==u.plotY){f=Math.round(C.width),y=Math.floor(C.x),c=y+f,x=Math.round(f/2),l=Math.floor(r?u.q1Plot:u.lowPlot),h=Math.floor(r?u.q3Plot:u.lowPlot),d=Math.floor(u.highPlot),n=Math.floor(u.lowPlot),k||(u.graphic=k=i.g("point").add(o.group),u.stem=i.path().addClass("highcharts-boxplot-stem").add(k),a&&(u.whiskers=i.path().addClass("highcharts-boxplot-whisker").add(k)),r&&(u.box=i.path(void 0).addClass("highcharts-boxplot-box").add(k)),u.medianShape=i.path(void 0).addClass("highcharts-boxplot-median").add(k)),s.styledMode||(P.stroke=u.stemColor||e.stemColor||D,P["stroke-width"]=pick(u.stemWidth,e.stemWidth,e.lineWidth),P.dashstyle=u.stemDashStyle||e.stemDashStyle||e.dashStyle,u.stem.attr(P),a&&(b.stroke=u.whiskerColor||e.whiskerColor||D,b["stroke-width"]=pick(u.whiskerWidth,e.whiskerWidth,e.lineWidth),b.dashstyle=u.whiskerDashStyle||e.whiskerDashStyle||e.dashStyle,u.whiskers.attr(b)),r&&(M.fill=u.fillColor||e.fillColor||D,M.stroke=e.lineColor||D,M["stroke-width"]=e.lineWidth||0,M.dashstyle=u.boxDashStyle||e.boxDashStyle||e.dashStyle,u.box.attr(M)),W.stroke=u.medianColor||e.medianColor||D,W["stroke-width"]=pick(u.medianWidth,e.medianWidth,e.lineWidth),W.dashstyle=u.medianDashStyle||e.medianDashStyle||e.dashStyle,u.medianShape.attr(W));let t;m=u.stem.strokeWidth()%2/2,S=y+x+m,t=[["M",S,h],["L",S,d],["M",S,l],["L",S,n]],u.stem[g]({d:t}),r&&(m=u.box.strokeWidth()%2/2,l=Math.floor(l)+m,h=Math.floor(h)+m,y+=m,c+=m,t=[["M",y,h],["L",y,l],["L",c,l],["L",c,h],["L",y,h],["Z"]],u.box[g]({d:t})),a&&(d+=m=u.whiskers.strokeWidth()%2/2,n+=m,w=/%$/.test(a)?x*parseFloat(a)/100:a/2,t=[["M",S-w,d],["L",S+w,d],["M",S-w,n],["L",S+w,n]],u.whiskers[g]({d:t})),p=Math.round(u.medianPlot),p+=m=u.medianShape.strokeWidth()%2/2,t=[["M",y,p],["L",c,p]],u.medianShape[g]({d:t})}}}toYData(t){return[t.low,t.q1,t.median,t.q3,t.high]}}BoxPlotSeries.defaultOptions=merge(ColumnSeries.defaultOptions,BoxPlotSeriesDefaults),extend(BoxPlotSeries.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:noop,setStackedPoints:noop}),SeriesRegistry.registerSeriesType("boxplot",BoxPlotSeries);export default BoxPlotSeries;